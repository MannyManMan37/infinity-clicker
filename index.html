<!DOCTYPE html>
<html>
<head>
    <title>Infinity Clicker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="code.png" type="image/x-icon" />
    <style>
        body { 
            background-image: url("yo.jpg"); 
            color: white; 
            font-family: "Segoe UI", sans-serif; 
            display: flex; 
            flex-direction: row;
            margin: 0; 
            height: 100vh;  
            background-size: cover; 
            background-position: center; 
            background-repeat: no-repeat; 
        }
        /* Sidebar */
        .sidebar {
            width: 280px;
            min-width: 200px;
            background: rgba(0,0,0,0.85);
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            border-right: 2px solid gold;
            height: 100vh;
            box-sizing: border-box;
            overflow-y: auto;
        }
        .sidebar button {
            flex: 1 1 auto;
            min-height: 50px;
            font-size: 1.2rem;
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .sidebar button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 10px gold;
        }
        /* Shop */
        .shop { 
            flex:1; 
            padding:20px; 
            display:flex; 
            flex-direction:column; 
            gap:10px; 
            overflow-y:auto; 
            max-height: 100vh;
        }
        .shop-item { 
            background: rgba(0,0,0,0.6); 
            padding:12px; 
            border-radius:6px; 
            cursor:pointer; 
            font-size:1.1rem; 
        }
        .shop-item:hover { background: rgba(255,255,255,0.2); }
        /* Modals */
        #overlay {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 900;
        }
        .credits-box {
            display: none;
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.95);
            padding: 20px;
            border: 2px solid white;
            border-radius: 12px;
            box-shadow: 0 0 20px grey;
            width: 375px;
            text-align: left;
            z-index: 1000;
            max-height: 70vh; 
            overflow-y: auto;
        }
        .credits-content { display: flex; align-items: center; gap: 15px; }
        .credits-content img { width: 80px; height: 80px; border-radius: 10px; border: 2px solid white; }
        .credits-text h3 { margin: 0; font-size: 1.4rem; }
        .credits-text p { margin: 2px 0 0; font-size: 1rem; color: lightgray; }
        .close-btn { background: crimson; border: none; padding: 8px 12px; border-radius: 6px; color: white; cursor:pointer; margin-top: 15px; width: 100%; }

        /* Achievement popup container */
        #achievementPopup { display: flex; flex-direction: column; gap: 10px; position: fixed; bottom: 20px; right: 20px; z-index: 2000; }
        .achievement-message { background: gold; color: black; padding: 12px 18px; border-radius: 8px; box-shadow: 0 0 10px black; font-weight: bold; opacity: 1; transition: opacity 0.3s ease; animation: popupIn 0.3s ease; }
        @keyframes popupIn { from { transform: translateY(20px); opacity:0; } to { transform: translateY(0); opacity:1; } }

        #dailyTimer { text-align: center; font-size: 1.2rem; color: lightyellow; margin-top: -10px; }

        @media (max-width: 600px) {
            body { flex-direction: column; height: auto; }
            .sidebar { width: 100%; border-right: none; border-bottom: 2px solid gold; height: auto; flex-wrap: wrap; }
            .shop { width: 100%; padding: 15px; max-height: none; }
            .sidebar button { font-size:1.5rem; padding: 15px; min-height: 60px; }
        }
    </style>
</head>
<body>

<div class="sidebar">
    <h1>Infinity Clicker</h1>
    <p id="idk">Clicks: 0</p>
    <p id="rebirthCounter">Rebirths: 0</p>
    <p id="prestigePoints">Premium Coins: 0</p>

    <!-- Sidebar Buttons -->
    <button onclick="clickHandler()">Click</button>
    <button onclick="rebirth()">Rebirth</button>
    <button onclick="showCredits()">Credits</button>
    <button onclick="patch()">Patch Notes</button>
    <button onclick="claimDaily()">Daily Reward</button>
    <button onclick="showQuests()">üìú Quests</button>
    <button onclick="showAchievementsMenu()">üèÜ Achievements</button>
    <button onclick="showStats()">üìä Stats</button>

    <div id="dailyTimer">Next daily in: 24:00:00</div>
</div>

<div class="shop">
    <h2>Shop</h2>
</div>

<div id="overlay" onclick="closeAllModals()"></div>

<!-- Modals -->
<div id="creditsBox" class="credits-box">
    <div class="credits-content">
        <img src="quantum.jpg" alt="Quantum">
        <div class="credits-text"><h3>Quantum</h3><p>Developer</p></div>
    </div>
    <br>
    <div class="credits-content">
        <img src="rxl.jpg" alt="RXL">
        <div class="credits-text"><h3>RXL</h3><p>Game Tester</p></div>
    </div>
    <button class="close-btn" onclick="closeAllModals()">Close</button>
</div>

<div id="patchBox" class="credits-box">
    <h2>Patch Notes</h2>
    <div id="patchContent">New Update 2.0: Premium Shop, Combos, Events, Quests!</div>
    <button class="close-btn" onclick="closeAllModals()">Close</button>
</div>

<div id="achievementsBox" class="credits-box">
    <h2>Achievements</h2>
    <div id="achievementsContent"></div>
    <button class="close-btn" onclick="closeAllModals()">Close</button>
</div>

<div id="questsBox" class="credits-box">
    <h2>Quests</h2>
    <div id="questsContent"></div>
    <button class="close-btn" onclick="closeAllModals()">Close</button>
</div>

<div id="statsBox" class="credits-box">
    <h2>Statistics</h2>
    <div id="statsContent"></div>
    <button class="close-btn" onclick="closeAllModals()">Close</button>
</div>

<div id="achievementPopup"></div>

<script>
// === VARIABLES ===
let x = parseInt(localStorage.getItem("x")) || 0;
let clickPower = parseInt(localStorage.getItem("clickPower")) || 1;
let rebirths = parseInt(localStorage.getItem("rebirths")) || 0;
let rebirthMultiplier = parseInt(localStorage.getItem("rebirthMultiplier")) || 1;
let autoClickers = parseInt(localStorage.getItem("autoClickers")) || 0;
let critChance = parseFloat(localStorage.getItem("critChance")) || 0;
let prestigePoints = parseInt(localStorage.getItem("prestigePoints")) || 0;
let lastDaily = parseInt(localStorage.getItem("lastDaily")) || 0;
let unlockedAchievements = JSON.parse(localStorage.getItem("achievements")) || [];
let autoClickerSpeed = parseFloat(localStorage.getItem("autoClickerSpeed")) || 1;
let offlineBoost = parseFloat(localStorage.getItem("offlineBoost")) || 1;
let totalClicks = parseInt(localStorage.getItem("totalClicks")) || 0;
let critsTriggered = parseInt(localStorage.getItem("critsTriggered")) || 0;
let startTime = parseInt(localStorage.getItem("startTime")) || Date.now();

// Combo / Streaks
let comboCount = 0; let comboTimer = null; let comboMultiplier = 1;

// Offline
const lastExit = parseInt(localStorage.getItem("lastExitTime")) || Date.now();
window.addEventListener("load", () => {
    const offlineSeconds = Math.floor((Date.now() - lastExit)/1000);
    if(offlineSeconds > 0){
        const offlineGain = Math.floor(autoClickers * rebirthMultiplier * offlineSeconds * offlineBoost);
        if(offlineGain > 0){ x += offlineGain; showAchievement(`Offline gain: +${offlineGain} clicks`); }
    }
    saveData(); updateDisplay();
});
window.addEventListener("beforeunload", () => { localStorage.setItem("lastExitTime", Date.now()); });

// Sidebar button colors
const sidebarButtons = document.querySelectorAll(".sidebar button");
const buttonColors = ["#6a11cb","#dc143c","#006400","#800080","#ff8c00","#1e90ff","#ffd700","#ff69b4"];
sidebarButtons.forEach((btn, i)=>{ btn.style.backgroundColor = buttonColors[i % buttonColors.length]; });

// === ACHIEVEMENTS ===
function showAchievement(msg){
    const popup = document.getElementById("achievementPopup");
    const div = document.createElement("div");
    div.className="achievement-message"; div.innerText=msg;
    popup.appendChild(div);
    setTimeout(()=>{ div.style.opacity=0; setTimeout(()=>{popup.removeChild(div);},300); },2500);
}
function showAchievementOnce(name){ if(!unlockedAchievements.includes(name)){ unlockedAchievements.push(name); saveData(); showAchievement(name); } }

// === CLICK HANDLER ===
function clickHandler() {
    let gain = clickPower * rebirthMultiplier * comboMultiplier;
    if(Math.random() < critChance){ gain *= 3; critsTriggered++; showAchievement("Critical Click! +" + gain); }
    x += gain; totalClicks += gain; saveData(); updateDisplay(); checkAchievements();

    comboCount++; comboMultiplier = 1 + Math.floor(comboCount/10)*2;
    clearTimeout(comboTimer);
    comboTimer = setTimeout(()=>{ comboCount=0; comboMultiplier=1; },2000);
    if(comboCount>0 && comboCount%10===0){ showAchievement(`Click combo x${comboCount}! +${comboMultiplier}x multiplier for 5s`); }
}

// === REBIRTH ===
function rebirth(){
    if(x>=1000){ rebirths++; prestigePoints++; rebirthMultiplier=1+Math.floor(rebirths*0.5); x=0; clickPower=1; autoClickers=0; critChance=0; saveData(); updateDisplay(); showAchievementOnce("Rebirth Achieved!"); renderShop(); }
    else showAchievement("Need at least 1000 clicks to rebirth!");
}

// === DAILY REWARD ===
function claimDaily(){
    const now = Date.now();
    if(now - lastDaily >= 24*60*60*1000){
        const reward = 500 + rebirths*100; x+=reward; lastDaily=now; saveData(); updateDisplay(); showAchievement(`Claimed Daily Reward: +${reward}`);
    } else showAchievement("Daily reward already claimed!");
}

// === PATCH ===
function patch(){ document.getElementById("overlay").style.display="block"; document.getElementById("patchBox").style.display="block"; }

// === MODALS ===
function showCredits(){ document.getElementById("overlay").style.display="block"; document.getElementById("creditsBox").style.display="block"; }
function showQuests(){ document.getElementById("overlay").style.display="block"; document.getElementById("questsBox").style.display="block"; }
function showAchievementsMenu(){ document.getElementById("overlay").style.display="block"; document.getElementById("achievementsBox").style.display="block"; updateAchievementsList(); }
function showStats(){ document.getElementById("overlay").style.display="block"; document.getElementById("statsBox").style.display="block"; updateStatsList(); }
function closeAllModals(){ document.getElementById("overlay").style.display="none"; document.querySelectorAll(".credits-box").forEach(el=>el.style.display="none"); }

// === UPDATE DISPLAY ===
function updateDisplay(){ document.getElementById("idk").innerText="Clicks: "+x; document.getElementById("rebirthCounter").innerText="Rebirths: "+rebirths; document.getElementById("prestigePoints").innerText="Premium Coins: "+prestigePoints; }

// === ACHIEVEMENTS / STATS LISTS ===
function updateAchievementsList(){ const container=document.getElementById("achievementsContent"); container.innerHTML=""; unlockedAchievements.forEach(a=>{ const div=document.createElement("div"); div.innerText=a; container.appendChild(div); }); }
function updateStatsList(){ const container=document.getElementById("statsContent"); container.innerHTML=`Total Clicks: ${totalClicks}<br>Rebirths: ${rebirths}<br>Crits: ${critsTriggered}<br>Time Played: ${Math.floor((Date.now()-startTime)/1000)}s`; }

// === SAVE DATA ===
function saveData(){
    localStorage.setItem("x",x);
    localStorage.setItem("clickPower",clickPower);
    localStorage.setItem("rebirths",rebirths);
    localStorage.setItem("rebirthMultiplier",rebirthMultiplier);
    localStorage.setItem("autoClickers",autoClickers);
    localStorage.setItem("critChance",critChance);
    localStorage.setItem("prestigePoints",prestigePoints);
    localStorage.setItem("lastDaily",lastDaily);
    localStorage.setItem("achievements",JSON.stringify(unlockedAchievements));
    localStorage.setItem("totalClicks",totalClicks);
    localStorage.setItem("critsTriggered",critsTriggered);
    localStorage.setItem("startTime",startTime);
}
setInterval(updateDailyTimer, 1000);
function updateDailyTimer(){
    const now = Date.now();
    const remaining = Math.max(0,24*60*60*1000-(now-lastDaily));
    let hrs = Math.floor(remaining/3600000);
    let mins = Math.floor((remaining%3600000)/60000);
    let secs = Math.floor((remaining%60000)/1000);
    document.getElementById("dailyTimer").innerText = `Next daily in: ${String(hrs).padStart(2,'0')}:${String(mins).padStart(2,'0')}:${String(secs).padStart(2,'0')}`;
}

// === INITIALIZE ===
renderShop(); updateDisplay(); checkAchievements();
</script>

</body>
</html>
