<!DOCTYPE html>
<html>
<head>
    <title>Infinity Clicker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="code.png" type="image/x-icon" />
    <style>
        body { 
            background-image: url("yo.jpg"); 
            color: white; 
            font-family: "Segoe UI", sans-serif; 
            display: flex; 
            flex-direction: row;
            margin: 0; 
            height: 100vh;  
            background-size: cover; 
            background-position: center; 
            background-repeat: no-repeat; 
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            min-width: 200px;
            background: rgba(0,0,0,0.85);
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            border-right: 2px solid gold;
            height: 100vh;
            box-sizing: border-box;
        }

        #statsContainer {
            flex: 0 0 auto;
        }

        #idk, #rebirthCounter, #prestigePoints { 
            background: rgba(0,0,0,0.5); 
            border: 2px solid gold; 
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            font-size: 1.3rem;
        }

        .sidebar-buttons {
            flex: 1 1 auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .sidebar-bottom {
            flex: 0 0 auto;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .sidebar button {
            flex: 1 1 auto;
            min-height: 50px;
            font-size: 1.2rem;
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .sidebar button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 10px gold;
        }

        /* Shop */
        .shop { 
            flex: 1; 
            padding: 20px; 
            display: flex; 
            flex-direction: column; 
            gap: 10px; 
            overflow-y: auto; 
            max-height: 100vh;
            background: rgba(0,0,0,0.6);
        }

        .shop-item { 
            background: rgba(0,0,0,0.6); 
            padding:12px; 
            border-radius:6px; 
            cursor:pointer; 
            font-size:1.1rem; 
        }
        .shop-item:hover { background: rgba(255,255,255,0.2); }

        /* Modals */
        #overlay {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 900;
        }
        .credits-box {
            display: none;
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.95);
            padding: 20px;
            border: 2px solid white;
            border-radius: 12px;
            box-shadow: 0 0 20px grey;
            width: 375px;
            text-align: left;
            z-index: 1000;
            max-height: 70vh; 
            overflow-y: auto;
        }
        .credits-content { display: flex; align-items: center; gap: 15px; }
        .credits-content img { width: 80px; height: 80px; border-radius: 10px; border: 2px solid white; }
        .credits-text h3 { margin: 0; font-size: 1.4rem; }
        .credits-text p { margin: 2px 0 0; font-size: 1rem; color: lightgray; }
        .close-btn { background: crimson; border: none; padding: 8px 12px; border-radius: 6px; color: white; cursor:pointer; margin-top: 15px; width: 100%; }

        /* Achievement popup container */
        #achievementPopup { display: flex; flex-direction: column; gap: 10px; position: fixed; bottom: 20px; right: 20px; z-index: 2000; }
        .achievement-message { background: gold; color: black; padding: 12px 18px; border-radius: 8px; box-shadow: 0 0 10px black; font-weight: bold; opacity: 1; transition: opacity 0.3s ease; animation: popupIn 0.3s ease; }
        @keyframes popupIn { from { transform: translateY(20px); opacity:0; } to { transform: translateY(0); opacity:1; } }

        #dailyTimer { text-align: center; font-size: 1.2rem; color: lightyellow; }

        /* Patch updates */
        #patchContent .update { margin-bottom: 15px; line-height: 1.4rem; }
        #patchContent hr { border: 1px solid white; margin: 10px 0; }

        @media (max-width: 600px) {
            body { flex-direction: column; height: auto; }
            .sidebar { width: 100%; border-right: none; border-bottom: 2px solid gold; height: auto; flex-wrap: wrap; }
            .shop { width: 100%; padding: 15px; max-height: none; }
            .sidebar button { font-size:1.5rem; padding: 15px; min-height: 60px; }
        }
    </style>
</head>
<body>

<div class="sidebar">

    <h1>Infinity Clicker</h1>

    <div id="statsContainer">
        <p id="idk">Clicks: 0</p>
        <p id="rebirthCounter">Rebirths: 0</p>
        <p id="prestigePoints">Premium Coins: 0</p>
    </div>

    <div class="sidebar-buttons">
        <button onclick="clickHandler()">Click</button>
        <button onclick="rebirth()">Rebirth</button>
        <button onclick="showCredits()">Credits</button>
        <button onclick="showPatch()">Patch Notes</button>
        <button onclick="showQuests()">üìú Quests</button>
        <button onclick="showAchievementsMenu()">üèÜ Achievements</button>
        <button onclick="showStats()">üìä Stats</button>
    </div>

    <div class="sidebar-bottom">
        <button onclick="claimDaily()">Daily Reward</button>
        <div id="dailyTimer">Next daily in: 24:00:00</div>
    </div>

</div>

<div class="shop">
    <h2>Shop</h2>
</div>

<div id="overlay" onclick="closeAllModals()"></div>

<!-- Modals -->
<div id="creditsBox" class="credits-box">
    <div class="credits-content">
        <img src="quantum.jpg" alt="Quantum">
        <div class="credits-text"><h3>Quantum</h3><p>Developer</p></div>
    </div>
    <div class="credits-content">
        <img src="rxl.jpg" alt="RXL">
        <div class="credits-text"><h3>RXL</h3><p>Game Tester</p></div>
    </div>
    <button class="close-btn" onclick="closeAllModals()">Close</button>
</div>

<div id="patchBox" class="credits-box">
    <h2>Patch Notes</h2>
    <div id="patchContent">
        <div class="update">
            <strong>October 2025 - 2.00 UPD</strong><br>
            - New Premium Shop upgrades<br>
            - Click Combos / Streaks added<br>
            - Random Events added<br>
            - Offline Progress implemented<br>
            - Quests / Missions added<br>
            - Achievements Menu added<br>
            - Statistics Page added<br>
            - Custom Themes unlocked
        </div>
        <hr>
        <div class="update">
            <strong>September 2025 - 1.50 UPD</strong><br>
            - Fixed click bugs<br>
            - Added new shop items<br>
            - Bug fixes and improvements
        </div>
    </div>
    <button class="close-btn" onclick="closeAllModals()">Close</button>
</div>

<div id="achievementsBox" class="credits-box">
    <h2>Achievements</h2>
    <div id="achievementsContent"></div>
    <button class="close-btn" onclick="closeAllModals()">Close</button>
</div>

<div id="questsBox" class="credits-box">
    <h2>Quests / Missions</h2>
    <div id="questsContent"></div>
    <button class="close-btn" onclick="closeAllModals()">Close</button>
</div>

<div id="statsBox" class="credits-box">
    <h2>Statistics</h2>
    <div id="statsContent"></div>
    <button class="close-btn" onclick="closeAllModals()">Close</button>
</div>

<div id="achievementPopup"></div>

<script>
// === VARIABLES ===
let x = Number(localStorage.getItem("x")) || 0;
let clickPower = Number(localStorage.getItem("clickPower")) || 1;
let rebirths = Number(localStorage.getItem("rebirths")) || 0;
let rebirthMultiplier = Number(localStorage.getItem("rebirthMultiplier")) || 1;
let autoClickers = Number(localStorage.getItem("autoClickers")) || 0;
let critChance = parseFloat(localStorage.getItem("critChance")) || 0;
let prestigePoints = Number(localStorage.getItem("prestigePoints")) || 0;
let lastDaily = Number(localStorage.getItem("lastDaily")) || 0;
let unlockedAchievements = JSON.parse(localStorage.getItem("achievements")) || [];
let totalClicks = Number(localStorage.getItem("totalClicks")) || 0;
let critsTriggered = Number(localStorage.getItem("critsTriggered")) || 0;
let startTime = Number(localStorage.getItem("startTime")) || Date.now();

// Sidebar button colors
const sidebarButtons = document.querySelectorAll(".sidebar button");
const buttonColors = ["#6a11cb","#dc143c","#006400","#800080","#ff8c00","#1e90ff","#ffd700","#ff69b4"];
sidebarButtons.forEach((btn,i)=>{ btn.style.backgroundColor=buttonColors[i % buttonColors.length]; });

// === ACHIEVEMENTS ===
function showAchievement(msg){
    const popup=document.getElementById("achievementPopup");
    const div=document.createElement("div");
    div.className="achievement-message"; div.innerText=msg;
    popup.appendChild(div);
    setTimeout(()=>{ div.style.opacity=0; setTimeout(()=>{popup.removeChild(div);},300); },2500);
}
function showAchievementOnce(name){ if(!unlockedAchievements.includes(name)){ unlockedAchievements.push(name); saveData(); showAchievement(name); } }

// === CLICK HANDLER ===
let comboCount=0, comboMultiplier=1, comboTimer=null;
function clickHandler(){
    let gain=clickPower*rebirthMultiplier*comboMultiplier;
    if(Math.random()<critChance){ gain*=3; critsTriggered++; showAchievement("Critical Click! +" + Math.floor(gain)); }
    x+=gain; totalClicks+=gain; saveData(); updateDisplay(); checkAchievements();

    comboCount++; comboMultiplier = 1 + Math.floor(comboCount/10)*2;
    clearTimeout(comboTimer);
    comboTimer=setTimeout(()=>{ comboCount=0; comboMultiplier=1; },2000);
    if(comboCount>0 && comboCount%10===0){ showAchievement(`Click combo x${comboCount}! +${comboMultiplier}x multiplier for 5s`); }
}

// === REBIRTH ===
function rebirth(){ if(x>=1000){ rebirths++; prestigePoints++; rebirthMultiplier=1+Math.floor(rebirths*0.5); x=0; clickPower=1; autoClickers=0; critChance=0; saveData(); updateDisplay(); showAchievementOnce("Rebirth Achieved!"); renderShop(); } else showAchievement("Need at least 1000 clicks to rebirth!"); }

// === DAILY REWARD ===
function claimDaily(){ const now=Date.now(); if(now-lastDaily>=24*60*60*1000){ const reward=500+rebirths*100; x+=reward; lastDaily=now; saveData(); updateDisplay(); showAchievement(`Claimed Daily Reward: +${reward}`); } else showAchievement("Daily reward already claimed!"); }

// === PATCH ===
function showPatch(){ document.getElementById("overlay").style.display="block"; document.getElementById("patchBox").style.display="block"; }

// === MODALS ===
function showCredits(){ document.getElementById("overlay").style.display="block"; document.getElementById("creditsBox").style.display="block"; }
function showQuests(){ document.getElementById("overlay").style.display="block"; document.getElementById("questsBox").style.display="block"; const q=document.getElementById("questsContent"); q.innerHTML=`<p>Daily Quests:</p><ul><li>Get 5000 clicks</li><li>Buy 3 Auto Clickers</li><li>Rebirth twice</li></ul>`; }
function showAchievementsMenu(){ document.getElementById("overlay").style.display="block"; document.getElementById("achievementsBox").style.display="block"; const c=document.getElementById("achievementsContent"); c.innerHTML=""; unlockedAchievements.forEach(a=>{ const div=document.createElement("div"); div.innerText=a; c.appendChild(div); }); }
function showStats(){ document.getElementById("overlay").style.display="block"; document.getElementById("statsBox").style.display="block"; const c=document.getElementById("statsContent"); c.innerHTML=`Total Clicks: ${totalClicks}<br>Rebirths: ${rebirths}<br>Crits: ${critsTriggered}<br>Time Played: ${Math.floor((Date.now()-startTime)/1000)}s`; }
function closeAllModals(){ document.getElementById("overlay").style.display="none"; document.querySelectorAll(".credits-box").forEach(el=>el.style.display="none"); }

// === DISPLAY ===
function updateDisplay(){ document.getElementById("idk").innerText="Clicks: "+Math.floor(x); document.getElementById("rebirthCounter").innerText="Rebirths: "+rebirths; document.getElementById("prestigePoints").innerText="Premium Coins: "+prestigePoints; }

// === SHOP ===
const buttonPowers=[1,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,110,120,130,140,150,160,170,180,190,200,220,240,260,280,300,320,340,360,380,400,450,500,550,600,650,700,750,800,850];
const shopDiv=document.querySelector(".shop");
function renderShop(){
    shopDiv.innerHTML="<h2>Shop</h2>";
    buttonPowers.forEach((power,index)=>{
        const btn=document.createElement("div"); btn.className="shop-item";
        let cost=Math.floor(power*10);
        btn.innerText=`Button ${index+1}: +${power} per click (Cost: ${cost})`;
        btn.onclick=()=>{ if(x>=cost){ x-=cost; clickPower+=power; saveData(); updateDisplay(); showAchievementOnce(`Bought Button ${index+1}`); } else showAchievement("Not enough clicks!"); };
        shopDiv.appendChild(btn);
    });

    const autoBtn=document.createElement("div"); autoBtn.className="shop-item";
    autoBtn.innerText=`Auto Clicker (+1 click/sec) Cost: 500`;
    autoBtn.onclick=()=>{ if(x>=500){ x-=500; autoClickers++; saveData(); updateDisplay(); showAchievementOnce("Auto Clicker Purchased!"); } else showAchievement("Not enough clicks!"); };
    shopDiv.appendChild(autoBtn);

    const critBtn=document.createElement("div"); critBtn.className="shop-item";
    critBtn.innerText=`Critical Click (+5% chance for 3x) Cost: 1000`;
    critBtn.onclick=()=>{ if(x>=1000){ x-=1000; critChance+=0.05; if(critChance>1) critChance=1; saveData(); updateDisplay(); showAchievementOnce("Critical Click Upgrade Purchased!"); } else showAchievement("Not enough clicks!"); };
    shopDiv.appendChild(critBtn);

    if(rebirths>0){
        const prestigeHeader=document.createElement("h3"); prestigeHeader.innerText="Premium Shop"; shopDiv.appendChild(prestigeHeader);
        for(let i=1;i<=8;i++){
            const pBtn=document.createElement("div"); pBtn.className="shop-item"; pBtn.innerText=`Premium Upgrade ${i} (1 PP)`; 
            pBtn.onclick=()=>{ if(prestigePoints>=1){ clickPower+=i; prestigePoints--; saveData(); updateDisplay(); showAchievementOnce(`Premium Upgrade ${i} Bought!`); } else showAchievement("Not enough Premium Coins!"); };
            shopDiv.appendChild(pBtn);
        }
    }
}

// === ACHIEVEMENTS CHECK ===
function checkAchievements(){
    if(x>=1000) showAchievementOnce("1000 Clicks!");
    if(x>=10000) showAchievementOnce("10,000 Clicks!");
    if(rebirths>=1) showAchievementOnce("First Rebirth!");
}

// === DAILY TIMER ===
setInterval(()=>{ const now=Date.now(); const remaining=Math.max(0,24*60*60*1000-(now-lastDaily)); let hrs=Math.floor(remaining/3600000); let mins=Math.floor((remaining%3600000)/60000); let secs=Math.floor((remaining%60000)/1000); document.getElementById("dailyTimer").innerText=`Next daily in: ${String(hrs).padStart(2,'0')}:${String(mins).padStart(2,'0')}:${String(secs).padStart(2,'0')}`; },1000);

// === AUTO CLICKER LOOP ===
setInterval(()=>{ if(autoClickers>0){ x+=autoClickers*rebirthMultiplier; totalClicks+=autoClickers*rebirthMultiplier; saveData(); updateDisplay(); checkAchievements(); } },1000);

// === SAVE DATA ===
function saveData(){
    localStorage.setItem("x", x);
    localStorage.setItem("clickPower", clickPower);
    localStorage.setItem("rebirths", rebirths);
    localStorage.setItem("rebirthMultiplier", rebirthMultiplier);
    localStorage.setItem("autoClickers", autoClickers);
    localStorage.setItem("critChance", critChance);
    localStorage.setItem("prestigePoints", prestigePoints);
    localStorage.setItem("lastDaily", lastDaily);
    localStorage.setItem("achievements", JSON.stringify(unlockedAchievements));
    localStorage.setItem("totalClicks", totalClicks);
    localStorage.setItem("critsTriggered", critsTriggered);
    localStorage.setItem("startTime", startTime);
}

// === INITIALIZE ===
renderShop(); updateDisplay(); checkAchievements();

</script>
</body>
</html>
